parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Yckj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i},e=function(){function e(t){this._painter=t}return e.prototype.drawFreeLineFigure=function(e){var i=e.positions,r=t(e,["positions"]);this.setDrawInfo(r),this.setStartPosition(i[0]);for(var o=0,n=i;o<n.length;o++){var a=n[o];this.drawFreeLine(a)}},e.prototype.drawRectangleFigure=function(e){var i=e.positions,r=t(e,["positions"]);this.setDrawInfo(r),this.drawRectangle(i)},e.prototype.drawEllipseFigure=function(e){var i=e.positions,r=t(e,["positions"]);this.setDrawInfo(r),this.drawEllipse(i)},e.prototype.drawStraightLineFigure=function(e){var i=e.positions,r=t(e,["positions"]);this.setDrawInfo(r),this.drawStraightLine(i)},e.prototype.setDrawInfo=function(t){var e=this._painter.ctx,i=t.color,r=t.thickness,o=t.lineCap;i&&(e.strokeStyle=i),r&&(e.lineWidth=r),o&&(e.lineCap=o),e.beginPath()},e.prototype.setStartPosition=function(t){var e=this._painter,i=e.ctx,r=e.canvas;i.moveTo(r.width*t.x,r.height*t.y)},e.prototype.drawFreeLine=function(t){var e=this._painter,i=e.ctx,r=e.canvas;i.lineTo(r.width*t.x,r.height*t.y),i.stroke()},e.prototype.drawStraightLine=function(t){var e=t[0],i=e.x,r=e.y,o=t[t.length-1],n=o.x,a=o.y,s=this._painter,h=s.ctx,p=s.canvas;h.beginPath(),h.moveTo(i*p.width,r*p.height),h.lineTo(n*p.width,a*p.height),h.stroke()},e.prototype.drawRectangle=function(t){var e=t[0],i=e.x,r=e.y,o=t[t.length-1],n=o.x,a=o.y,s=this._painter,h=s.ctx,p=s.canvas;h.strokeRect(i*p.width,r*p.height,(n-i)*p.width,(a-r)*p.height)},e.prototype.drawEllipse=function(t){var e=t[0],i=t[t.length-1],r=this._painter,o=r.ctx,n=r.canvas,a=e.x*n.width,s=e.y*n.height,h=i.x*n.width-a,p=i.y*n.height-s,c=4*(Math.sqrt(2)-1)/3,l=h/2*c,u=p/2*c,v=a+h,f=s+p,y=a+h/2,d=s+p/2;o.beginPath(),o.moveTo(a,d),o.bezierCurveTo(a,d-u,y-l,s,y,s),o.bezierCurveTo(y+l,s,v,d-u,v,d),o.bezierCurveTo(v,d+u,y+l,f,y,f),o.bezierCurveTo(y-l,f,a,d+u,a,d),o.closePath(),o.stroke()},e}(),i=e;exports.default=i;
},{}],"fzcJ":[function(require,module,exports) {
"use strict";function t(t){var c=t.canvas,i=!1,u=[n(c,"mousedown",function(t){var n=t.clientX,i=t.clientY,u=e(c,{clientX:n,clientY:i});o(u,t),r(u,t)}),n(document,"mousemove",function(t){var n=t.clientX,i=t.clientY;r(e(c,{clientX:n,clientY:i}),t)}),n(document,"mouseup",l),n(c,"touchstart",function(t){var n=t.touches[0],i=n.clientX,u=n.clientY,l=e(c,{clientX:i,clientY:u});o(l,t),r(l,t)}),n(document,"touchmove",function(t){var n=t.touches[0],i=n.clientX,u=n.clientY;r(e(c,{clientX:i,clientY:u}),t)}),n(document,"touchend",l)];function o(n,e){var c=n.x,u=n.y;i=!0,t._startLiveDraw({x:c,y:u},e)}function r(n,e){var c=n.x,u=n.y;i&&t._liveDrawing({x:c,y:u},e)}function l(n){i&&(i=!1,t._endLiveDraw(n))}return function(){u.forEach(function(t){return t()})}}function n(t,n,e){return t.addEventListener(n,e),function(){return t.removeEventListener(n,e)}}function e(t,n){var e=n.clientX,c=n.clientY,i=t.getBoundingClientRect(),u=i.top,o=i.left,r=i.width,l=i.height;return{x:Number((e-o)/r),y:Number((c-u)/l)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"lsXI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(){this._events={}}return t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=this._events[t]||[];r<o.length;r++){o[r].apply(void 0,e)}},t.prototype.on=function(t,e){var n=this;return(this._events[t]=this._events[t]||[]).push(e),function(){return n._events[t]=n._events[t].filter(function(t){return t!==e})}},t.prototype.allOff=function(){this._events={}},t}(),e=t;exports.default=e;
},{}],"VSFT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./PainterView")),i=r(require("./extendDrawByMouse")),e=r(require("./EventEmitter"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){return(s=Object.assign||function(t){for(var i,e=1,r=arguments.length;e<r;e++)for(var s in i=arguments[e])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t}).apply(this,arguments)},n=function(){function r(r){var n=r.canvas,a=r.width,o=r.height,h=r.drawOption,w=n.getContext("2d");if(!w)throw new Error("2d context not supported");a&&(n.width=a),o&&(n.height=o),this.canvas=n,this.ctx=w,this.drawOption=s({type:"freeLine",color:"red",thickness:3,lineCap:"round"},h),this._drawFigures=[],this._drawPositions=[],this._emitter=new e.default,this._painterView=new t.default(this),this._offExtendDrawByMouse=(0,i.default)(this)}return r.prototype.on=function(t,i){return this._emitter.on(t,i)},r.prototype.setDrawOption=function(t){this.drawOption=s(s({},this.drawOption),t)},r.prototype.drawFigure=function(t){this._drawFigures.push(s(s({},this.drawOption),t)),this._render()},r.prototype.clearDraw=function(){this._drawFigures=[],this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.destroy=function(){this._offExtendDrawByMouse(),this._emitter.allOff()},r.prototype._startLiveDraw=function(t,i){this._drawPositions.push(t),this._painterView.setDrawInfo(this.drawOption),this._painterView.setStartPosition(t),this._emitter.emit("drawStart",t,i)},r.prototype._liveDrawing=function(t,i){"freeLine"===this.drawOption.type&&(this._drawPositions.push(t),this._painterView.drawFreeLine(t)),"straightLine"===this.drawOption.type&&(this._render(),this._drawPositions=[this._drawPositions[0],t],this._painterView.drawStraightLine(this._drawPositions)),"rectangle"===this.drawOption.type&&(this._render(),this._drawPositions=[this._drawPositions[0],t],this._painterView.drawRectangle(this._drawPositions)),"ellipse"===this.drawOption.type&&(this._render(),this._drawPositions=[this._drawPositions[0],t],this._painterView.drawEllipse(this._drawPositions)),this._emitter.emit("drawing",t,i)},r.prototype._endLiveDraw=function(t){this._drawFigures.push(s({positions:this._drawPositions},this.drawOption)),this._emitter.emit("drawEnd",this._drawPositions,t),this._drawPositions=[],this._render()},r.prototype._render=function(){if(this._drawFigures.length){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t=0,i=this._drawFigures;t<i.length;t++){var e=i[t];"freeLine"===e.type&&this._painterView.drawFreeLineFigure(e),"rectangle"===e.type&&this._painterView.drawRectangleFigure(e),"ellipse"===e.type&&this._painterView.drawEllipseFigure(e),"straightLine"===e.type&&this._painterView.drawStraightLineFigure(e)}this._painterView.setDrawInfo(this.drawOption)}},r}(),a=n;exports.default=a;
},{"./PainterView":"Yckj","./extendDrawByMouse":"fzcJ","./EventEmitter":"lsXI"}],"fUdq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Painter"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;
},{"./Painter":"VSFT"}],"QCba":[function(require,module,exports) {
"use strict";var e=n(require("../src"));function n(e){return e&&e.__esModule?e:{default:e}}for(var t=document.getElementsByName("draw-type"),r=document.getElementById("canvas"),i=new e.default({canvas:r,width:500,height:500}),o=0,a=t;o<a.length;o++){var s=a[o];s.addEventListener("change",function(){var e=document.querySelector('input[name="draw-type"]:checked').value;i.setDrawOption({type:e})})}i.drawFigure({type:"freeLine",color:"red",thickness:3,lineCap:"round",positions:[{x:.537866461275263,y:.24183928841850494},{x:.655767612752637,y:.14106861275263724},{x:.654859612752637,y:.1442996127526372},{x:.652134612752637,y:.15560861275263724},{x:.649416127526371,y:.16368561275263743},{x:.643052612752637,y:.18630261275263713},{x:.640327612752637,y:.19599561275263724},{x:.638516127526372,y:.20245761275263724}]}),i.drawFigure({type:"rectangle",color:"blue",thickness:10,lineCap:"round",positions:[{x:.45800570994602724,y:.29400569993626097},{x:.6980057245944656,y:.46000571006809754}]}),i.drawFigure({type:"ellipse",color:"green",thickness:2,lineCap:"round",positions:[{x:.589660464410864,y:.39722129782530574},{x:.8147651703463574,y:.5984210792366761}]}),i.drawFigure({type:"straightLine",color:"purple",thickness:5,lineCap:"square",positions:[{x:.589660464410864,y:.39722129782530574},{x:.8147651703463574,y:.5984210792366761}]}),i.on("drawEnd",function(e,n){console.log("drawEnd",e,n)});
},{"../src":"fUdq"}]},{},["QCba"], null)