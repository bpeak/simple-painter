parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lsXI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(){this._events={}}return t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=this._events[t]||[];r<o.length;r++){o[r].apply(void 0,e)}},t.prototype.on=function(t,e){var n=this;return(this._events[t]=this._events[t]||[]).push(e),function(){return n._events[t]=n._events[t].filter(function(t){return t!==e})}},t.prototype.allOff=function(){this._events={}},t}(),e=t;exports.default=e;
},{}],"mkXu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})},t=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},r=function(){function r(e,t){this._style=e,this._positions=t}return r.prototype.drawing=function(r,o){var i,s,a,l;return e(this,void 0,void 0,function(){var e,u,c,f,h,p,y,v,b,d,w,_;return t(this,function(t){switch(t.label){case 0:e=this._style,u=e.color,c=e.thickness,f=e.lineCap,h=r.canvas,p=h.width,y=h.height,u&&(r.strokeStyle=u),c&&(r.lineWidth=c),f&&(r.lineCap=f),this._positions=[],r.beginPath(),t.label=1;case 1:t.trys.push([1,6,7,12]),i=n(o),t.label=2;case 2:return[4,i.next()];case 3:if((s=t.sent()).done)return[3,5];v=s.value,b=v.relativePosition,d=b.x,w=b.y,this._positions.length?(r.lineTo(p*d,y*w),r.stroke()):r.moveTo(p*d,y*w),this._positions.push({x:d,y:w}),t.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return _=t.sent(),a={error:_},[3,12];case 7:return t.trys.push([7,,10,11]),s&&!s.done&&(l=i.return)?[4,l.call(i)]:[3,9];case 8:t.sent(),t.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:return[2]}})})},r.prototype.render=function(e){if(this._positions){var t=this._style,n=t.color,r=t.thickness,o=t.lineCap,i=e.canvas,s=i.width,a=i.height;n&&(e.strokeStyle=n),r&&(e.lineWidth=r),o&&(e.lineCap=o),e.beginPath();for(var l=0,u=this._positions;l<u.length;l++){var c=u[l];e.lineTo(s*c.x,a*c.y),e.stroke()}}},r}(),o=r;exports.default=o;
},{}],"axRD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}u((r=r.apply(e,t||[])).next())})},t=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},r=function(){function r(e,t,n){this._style=e,this._start=t,this._end=n}return r.prototype.drawing=function(r,o){var a,i,s,u;return e(this,void 0,void 0,function(){var e,c,l,f,h,y;return t(this,function(t){switch(t.label){case 0:e=r.canvas,c=e.width,l=e.height,t.label=1;case 1:t.trys.push([1,6,7,12]),a=n(o),t.label=2;case 2:return[4,a.next()];case 3:if((i=t.sent()).done)return[3,5];f=i.value,h=f.relativePosition,this._start?this._end=h:this._start=this._end=h,r.clearRect(0,0,c,l),this.render(r),t.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return y=t.sent(),s={error:y},[3,12];case 7:return t.trys.push([7,,10,11]),i&&!i.done&&(u=a.return)?[4,u.call(a)]:[3,9];case 8:t.sent(),t.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:return[2]}})})},r.prototype.render=function(e){if(void 0!==this._start&&void 0!==this._end){var t=this._style,n=t.color,r=t.thickness,o=t.lineCap,a=e.canvas,i=a.width,s=a.height;n&&(e.strokeStyle=n),r&&(e.lineWidth=r),o&&(e.lineCap=o);var u=this._start,c=u.x,l=u.y,f=this._end,h=f.x,y=f.y;e.beginPath(),e.moveTo(c*i,l*s),e.lineTo(h*i,y*s),e.stroke()}},r}(),o=r;exports.default=o;
},{}],"gRG2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}u((r=r.apply(e,t||[])).next())})},t=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}},r=function(){function r(e,t,n){this._style=e,this._start=t,this._end=n}return r.prototype.drawing=function(r,o){var a,i,s,u;return e(this,void 0,void 0,function(){var e,c,l,f,h,y;return t(this,function(t){switch(t.label){case 0:e=r.canvas,c=e.width,l=e.height,t.label=1;case 1:t.trys.push([1,6,7,12]),a=n(o),t.label=2;case 2:return[4,a.next()];case 3:if((i=t.sent()).done)return[3,5];f=i.value,h=f.relativePosition,this._start?this._end=h:this._start=this._end=h,r.clearRect(0,0,c,l),this.render(r),t.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return y=t.sent(),s={error:y},[3,12];case 7:return t.trys.push([7,,10,11]),i&&!i.done&&(u=a.return)?[4,u.call(a)]:[3,9];case 8:t.sent(),t.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:return[2]}})})},r.prototype.render=function(e){if(void 0!==this._start&&void 0!==this._end){var t=this._style,n=t.color,r=t.thickness,o=t.lineCap,a=e.canvas,i=a.width,s=a.height;n&&(e.strokeStyle=n),r&&(e.lineWidth=r),o&&(e.lineCap=o);var u=this._start,c=u.x,l=u.y,f=this._end,h=f.x,y=f.y;e.strokeRect(c*i,l*s,(h-c)*i,(y-l)*s)}},r}(),o=r;exports.default=o;
},{}],"Jiys":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},t=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}},n=function(){function n(e,t,r){this._style=e,this._start=t,this._end=r}return n.prototype.drawing=function(n,o){var i,a,s,u;return e(this,void 0,void 0,function(){var e,c,l,h,f,y;return t(this,function(t){switch(t.label){case 0:e=n.canvas,c=e.width,l=e.height,t.label=1;case 1:t.trys.push([1,6,7,12]),i=r(o),t.label=2;case 2:return[4,i.next()];case 3:if((a=t.sent()).done)return[3,5];h=a.value,f=h.relativePosition,this._start?this._end=f:this._start=this._end=f,n.clearRect(0,0,c,l),this.render(n),t.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return y=t.sent(),s={error:y},[3,12];case 7:return t.trys.push([7,,10,11]),a&&!a.done&&(u=i.return)?[4,u.call(i)]:[3,9];case 8:t.sent(),t.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:return[2]}})})},n.prototype.render=function(e){if(void 0!==this._start&&void 0!==this._end){var t=this._style,r=t.color,n=t.thickness,o=t.lineCap,i=e.canvas;r&&(e.strokeStyle=r),n&&(e.lineWidth=n),o&&(e.lineCap=o),e.beginPath();var a=this._start,s=this._end,u=a.x*i.width,c=a.y*i.height,l=s.x*i.width-u,h=s.y*i.height-c,f=4*(Math.sqrt(2)-1)/3,y=l/2*f,d=h/2*f,v=u+l,b=c+h,p=u+l/2,w=c+h/2;e.beginPath(),e.moveTo(u,w),e.bezierCurveTo(u,w-d,p-y,c,p,c),e.bezierCurveTo(p+y,c,v,w-d,v,w),e.bezierCurveTo(v,w+d,p+y,b,p,b),e.bezierCurveTo(p-y,b,u,w+d,u,w),e.closePath(),e.stroke()}},n}(),o=n;exports.default=o;
},{}],"Imod":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}u((r=r.apply(t,e||[])).next())})},e=function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,a){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,a,(e=t[n](e)).done,e.value)})}}},r=function(){function r(t,e,n){this._style=t,this._start=e,this._end=n}return r.prototype.drawing=function(r,a){var o,i,s,u;return t(this,void 0,void 0,function(){var t,l,c,h,f,p;return e(this,function(e){switch(e.label){case 0:t=r.canvas,l=t.width,c=t.height,e.label=1;case 1:e.trys.push([1,6,7,12]),o=n(a),e.label=2;case 2:return[4,o.next()];case 3:if((i=e.sent()).done)return[3,5];h=i.value,f=h.relativePosition,this._start?this._end=f:this._start=this._end=f,r.clearRect(0,0,l,c),this.render(r),e.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=e.sent(),s={error:p},[3,12];case 7:return e.trys.push([7,,10,11]),i&&!i.done&&(u=o.return)?[4,u.call(o)]:[3,9];case 8:e.sent(),e.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:return[2]}})})},r.prototype.render=function(t){if(void 0!==this._start&&void 0!==this._end){var e=this._style,n=e.color,r=e.thickness,a=void 0===r?3:r,o=e.lineCap,i=t.canvas,s=i.width,u=i.height;o&&(t.lineCap=o),n&&(t.fillStyle=n);var l=this._start.x*s,c=this._start.y*u,h=[0,a/2,-12,a/2,-15,8],f=this._end.x*s-l,p=this._end.y*u-c,y=Math.sqrt(f*f+p*p),d=p/y,v=f/y,b=[];t.beginPath(),b.push(0,0),b.push(h[0]<0?y+h[0]:h[0],h[1]),b.push(Math.max(h[2]<0?y+h[2]:h[2],0),h[3]),b.push(Math.max(h[4]<0?y+h[4]:h[4],-3),h[5]),b.push(Math.max(y,12),0),b.push(Math.max(h[4]<0?y+h[4]:h[4],-3),-h[5]),b.push(Math.max(h[2]<0?y+h[2]:h[2],0),-h[3]),b.push(h[0]<0?y+h[0]:h[0],-h[1]),b.push(0,0);for(var _=0;_<b.length;_+=2){var w=b[_]*v-b[_+1]*d+l,x=b[_]*d+b[_+1]*v+c;0===_?t.moveTo(w,x):t.lineTo(w,x)}t.fill()}},r}(),a=r;exports.default=a;
},{}],"VSFT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./EventEmitter")),e=a(require("./Figure/FreeLine")),n=a(require("./Figure/StraightLine")),r=a(require("./Figure/Rectangle")),i=a(require("./Figure/Ellipse")),o=a(require("./Figure/Arrow"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},u=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(t){return this instanceof c?(this.v=t,this):new c(t)},h=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof c?Promise.resolve(n.value.v).then(u,h):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function h(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},l=function(){function a(e){var n=e.canvas,r=e.width,i=e.height,o=e.drawMouse,a=void 0===o||o,s=e.type,u=void 0===s?"freeLine":s,c=e.color,h=void 0===c?"red":c,l=e.thickness,f=void 0===l?3:l,p=e.lineCap,d=void 0===p?"square":p;if(this.disableMouseDrawing=function(){},this._figures=[],this._cursor=0,this._canvas=n,!(this._ctx=n.getContext("2d")))throw new Error("2d context not supported");r&&(n.width=r),i&&(n.height=i),this._tmpCanvas=document.createElement("canvas"),this._tmpCtx=this._tmpCanvas.getContext("2d"),this._drawOption={type:u,color:h,thickness:f,lineCap:d},this._emitter=new t.default,a&&this.enableMouseDrawing()}return Object.defineProperty(a.prototype,"drawOption",{get:function(){return this._drawOption},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return{width:this._canvas.width,height:this._canvas.height}},enumerable:!0,configurable:!0}),a.prototype.on=function(t,e){return this._emitter.on(t,e)},a.prototype.setSize=function(t){var e=t.width,n=t.height;e&&(this._canvas.width=e),n&&(this._canvas.height=n)},a.prototype.setOptions=function(t){this._drawOption=s(s({},this._drawOption),t)},a.prototype.draw=function(t){this._push(t),t.render(this._ctx)},a.prototype.undo=function(){this._cursor>0&&(this._cursor--,this.redraw())},a.prototype.redo=function(){this._cursor<this._figures.length&&(this._cursor++,this.redraw())},a.prototype.clear=function(){var t=this.size,e=t.width,n=t.height;this._ctx.clearRect(0,0,e,n)},a.prototype.destroy=function(){this.disableMouseDrawing(),this._emitter.allOff()},a.prototype.enableMouseDrawing=function(){var t=this;this.disableMouseDrawing();var a=this.canvas,s=null,l=w;var f=function(f,p){switch(t._drawOption.type){case"freeLine":s=new e.default(t._drawOption);break;case"straightLine":s=new n.default(t._drawOption);break;case"arrow":s=new o.default(t._drawOption);break;case"rectangle":s=new r.default(t._drawOption);break;case"ellipse":s=new i.default(t._drawOption);break;default:throw new Error('There is no figure of "'+t._drawOption.type+'" type.')}v(a,t._tmpCanvas),document.body.appendChild(t._tmpCanvas),s.drawing(t._tmpCtx,function(){return h(this,arguments,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,c(new Promise(function(t){return l=t}))];case 1:return(t=e.sent())?[4,c(t)]:[3,4];case 2:return[4,e.sent()];case 3:return e.sent(),[3,0];case 4:return[2]}})})}()),t._emitter.emit("drawStart",{originalEvent:p,canvas:t._canvas,relativePosition:f})},g=function(e,n){if(s){var r={originalEvent:n,canvas:t._canvas,relativePosition:e};l(r),t._emitter.emit("drawing",r)}},_=function(e,n){s&&(document.body.removeChild(t._tmpCanvas),l(),t._ctx.drawImage(t._tmpCanvas,0,0),t._push(s),l=w,s=null,t._emitter.emit("drawEnd",{originalEvent:n,canvas:t._canvas,relativePosition:e}))},y=null,b=[p(a,"mousedown",function(t){var e=d(a,t);f(e,t),g(e,t)}),p(a,"touchstart",function(t){var e=d(a,y=t.touches[0]);f(e,t),g(e,t)}),p(document,"mousemove",function(t){g(d(a,t),t)}),p(document,"touchmove",function(t){g(d(a,y=t.touches[0]),t)}),p(document,"mouseup",function(t){_(d(a,t),t)}),p(document,"touchend",function(t){_(d(a,y),t)})];this.disableMouseDrawing=function(){return b.forEach(function(t){return t()})}},a.prototype.redraw=function(){this.clear();for(var t=0,e=this._figures.slice(0,this._cursor);t<e.length;t++){e[t].render(this._ctx)}},a.prototype._push=function(t){(this._figures=this._figures.slice(0,this._cursor++)).push(t)},a}(),f=l;function p(t,e,n){return t.addEventListener(e,n),function(){return t.removeEventListener(e,n)}}function d(t,e){var n=e.clientX,r=e.clientY,i=t.getBoundingClientRect(),o=i.top,a=i.left,s=i.width,u=i.height;return{x:Number((n-a)/s),y:Number((r-o)/u)}}function v(t,e){var n=t.getBoundingClientRect(),r=n.top,i=n.left,o=n.width,a=n.height;Object.assign(e,{width:t.width,height:t.height}),Object.assign(e.style,{position:"fixed",top:r+(o-t.width)/2+"px",left:i+(a-t.height)/2+"px"})}function w(){}exports.default=f;
},{"./EventEmitter":"lsXI","./Figure/FreeLine":"mkXu","./Figure/StraightLine":"axRD","./Figure/Rectangle":"gRG2","./Figure/Ellipse":"Jiys","./Figure/Arrow":"Imod"}],"fUdq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Painter",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Ellipse",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"FreeLine",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Rectangle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"StraightLine",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Arrow",{enumerable:!0,get:function(){return i.default}}),exports.default=void 0;var e=o(require("./Painter")),r=o(require("./Figure/Ellipse")),t=o(require("./Figure/FreeLine")),u=o(require("./Figure/Rectangle")),n=o(require("./Figure/StraightLine")),i=o(require("./Figure/Arrow"));function o(e){return e&&e.__esModule?e:{default:e}}var a=e.default;exports.default=a;
},{"./Painter":"VSFT","./Figure/Ellipse":"Jiys","./Figure/FreeLine":"mkXu","./Figure/Rectangle":"gRG2","./Figure/StraightLine":"axRD","./Figure/Arrow":"Imod"}],"QCba":[function(require,module,exports) {
"use strict";var e=t(require("../src"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function t(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var r=document.getElementById("color"),o=document.getElementsByName("draw-type"),a=document.getElementById("canvas"),c=window.painter=new e.default({canvas:a,width:600,height:600,lineCap:"round",thickness:3,color:r.value,type:document.querySelector('input[name="draw-type"]:checked').value});r.addEventListener("change",function(){return c.setOptions({color:r.value})});for(var i=0,u=o;i<u.length;i++){var l=u[i];l.addEventListener("change",function(){c.setOptions({type:document.querySelector('input[name="draw-type"]:checked').value})})}c.draw(new e.FreeLine({color:"red",thickness:3,lineCap:"round"},[{x:.537866461275263,y:.24183928841850494},{x:.655767612752637,y:.14106861275263724},{x:.654859612752637,y:.1442996127526372},{x:.640327612752637,y:.19599561275263724},{x:.638516127526372,y:.20245761275263724}])),c.draw(new e.Rectangle({color:"blue",thickness:10,lineCap:"round"},{x:.45800570994602724,y:.29400569993626097},{x:.6980057245944656,y:.46000571006809754})),c.draw(new e.Ellipse({color:"green",thickness:2,lineCap:"round"},{x:.589660464410864,y:.39722129782530574},{x:.8147651703463574,y:.5984210792366761})),c.draw(new e.StraightLine({color:"purple",thickness:5,lineCap:"square"},{x:.589660464410864,y:.39722129782530574},{x:.8147651703463574,y:.5984210792366761})),c.on("drawStart",function(e){console.log("drawStart",e)}),c.on("drawing",function(e){console.log("drawing",e)}),c.on("drawEnd",function(e){console.log("drawEnd",e)});
},{"../src":"fUdq"}]},{},["QCba"], null)